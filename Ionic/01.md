# Ionic 6 - Partie 1 : DÃ©couverte de Ionic
> - [Retourner Ã  la liste des cours](../readme.md)
> - Exercices : [cliquez-ici](exercices.md)
> - Corrections : [cliquez-ici](corrections.md)

- [Ionic 6 - Partie 1 : DÃ©couverte de Ionic](#ionic-6---partie-1--d%c3%a9couverte-de-ionic)
  - [Ionic, Capacitor, Cordova](#ionic-capacitor-cordova)
  - [Installation de Ionic](#installation-de-ionic)
  - [CrÃ©er notre premiÃ¨re application Ionic](#cr%c3%a9er-notre-premi%c3%a8re-application-ionic)
  - [Ouvrir le projet](#ouvrir-le-projet)
    - [Exercice 1](#exercice-1)
    - [Exercice 2](#exercice-2)

> Ionic est un framework vous permettant de dÃ©velopper des applications mobiles multi-plateforme. DÃ©veloppÃ© sur Angular, il vous permet d'utiliser Typescript et vos connaissances en Angular pour crÃ©er une application qui pourra Ãªtre publiÃ©e pour Android ou iOS par exemple !

La crÃ©ation d'applications mobiles passe par deux mÃ©thodes principales :
- utiliser les langages natifs (Swift et Objective-C pour iOS, Java pour Android, C# pour les anciens Windows Phone...)
- utiliser un framework qui vous permet de coder dans un langage du web, par exemple en structurant en HTML/CSS et en crÃ©ant la logique en Javascript

Utiliser des langages natifs permet d'avoir une application plus optimisÃ©e, d'utiliser les technologies les plus rÃ©centes proposÃ©es par les constructeurs, nÃ©anmoins ils requiÃ¨rent d'apprendre un nouveau langage et pour de trÃ¨s nombreux cas, nous n'avons pas besoin d'autant de fonctonnalitÃ©s. De plus, il va falloir coder l'application deux fois, une fois pour iOS, une fois pour Android.

Utiliser les langages du web pour faire une application permet d'avoir la mÃªme base de code pour tous les appareils ! Par exemple, lorsque vous voudrez utiliser l'appareil photo, vous le direz Ã  la maniÃ¨re de Ionic qui se chargera lors de la compilation de convertir votre code en un appel natif Ã  l'appareil photo cÃ´tÃ© iOS pour la version AppStore, et cÃ´tÃ© Android pour la version Play Store. Le dÃ©savantage, c'est que vous n'avez pas accÃ¨s aux fonctionnalitÃ©s les plus poussÃ©es ou trop propres Ã  un appareil en particulier. De plus, votre code ne pourra pas Ãªtre aussi optimisÃ© que si vous l'aviez codÃ© en langage natif.

C'est un peu comme utiliser un crÃ©ateur de sites web en ligne pour faire son site : c'est trÃ¨s rapide et pratique, on a accÃ¨s Ã  la plupart des fonctionnalitÃ©s communes aux sites Internet, nÃ©anmoins il sera impossible d'utiliser des fonctionnalitÃ©s trÃ¨s avancÃ©es.

Notez cependant, les limites de Ionic sont nettement plus Ã©levÃ©es ! On se servira d'un langage natif plutÃ´t lorsque vous aurez besoin de ressources machines optimales (jeux vidÃ©os, machine learning...).

Il existe des alternatives Ã  Ionic, notamment React Native. React Native se base sur le mÃªme fonctionnement que React, mais utilise son propre langage de rendu plutÃ´t que HTML/CSS. Le code compilÃ© est natif lÃ  oÃ¹ Ionic compile un "site web mobile" : les applications React sont dont plus optimisÃ©es mais les applications Ionic sont plus rapides Ã  dÃ©velopper et Ã  mettre en page.

## Ionic, Capacitor, Cordova

Ionic est le framework qui va nous permettre de composer notre application : il nous fournit tous les outils de templating, routage... nÃ©cessaires Ã  coder avec du code Angular ou React.

Cordova et Capacitor sont la surcouche matÃ©rielle qui va nous permettre d'utiliser les Ã©lÃ©ments plus "physiques" de l'appareil (capteur de mouvement, de luminositÃ©, microphone, camÃ©ra, gyroscope...)

## Installation de Ionic

Tout comme Angular, Ionic a besoin de NPM pour Ãªtre installÃ©. VÃ©rifiez que Node et NPM soient bien installÃ©s (`node -v`, `npm -v`) puis installez globalement Ionic :

```bash
npm install -g @ionic/cli native-run cordova-res
```
- `native-run` sert Ã  lancer des exÃ©cutables iOS/Android
- `cordova-res` contient des ressources autour de la gestion d'applications

## CrÃ©er notre premiÃ¨re application Ionic

> Nous allons nous inspirer de l'application de dÃ©mo de la documentation : une app de photos !

Ionic vient avec plusieurs "templates" d'applications basiques: 'blank' pour un projet vide mono-page, "tabs" pour avoir des tabs de navigation, "sidemenu" pour avoir une sidebar de navigation. ([doc](https://ionicframework.com/docs/developing/starting)). 

> Consultez la liste des templates existants avec `ionic start --list`

CrÃ©ez une premiÃ¨re application :

```bash
ionic start photo-gallery tabs
```

- Pick a framework: `Angular`
- Integrate your new app with Capacitor: `yes`
- Create a free Ionic account: `No` (comme vous voulez)

Le CLI Ionic permet de gÃ©nÃ©rer de nombreux types de fichiers:

> Consultez la liste des gÃ©nÃ©rateurs avec `ionic generate`

Enfin, Ionic vient avec un nombre de "UI Components" (attention, on parle ici des composants d'interface utilisateur, pas des *components* Angular) qui vous permet de structurer votre application avec des Ã©lÃ©ments communs Ã  iOS et Android :

> Regardez la dÃ©mo d'application iOS/Android sur [la page d'accueil de la doc](https://ionicframework.com/docs/)

> Documentation complÃ¨te des [UI components](https://ionicframework.com/docs/components)

## Ouvrir le projet

Nous allons installer la librairie *PWA (Progressive Web App) Elements* :
> Ouvrez le projet dans VSCode
> Ouvrez un terminal et installez : `npm install @ionic/pwa-elements`

Il s'agit de plugins Ã  Capacitor qui incluent par exemple l'API de gestion de la camÃ©ra.

Comme il s'agit d'une librairie externe, il faut bien l'importer dans le projet. Modifiez le fichier `main.ts` ainsi :

![](img/0101.png)

Ensuite, lancez le projet !

```
ionic serve
```

> Ouvrez les DevTools et mettez-vous en format mobile :

![](img/c0102.png)

Ã‡a y est, notre premiÃ¨re application mobile est crÃ©Ã©e ! ðŸ˜„

En fait, dans Ionic, tout va fonctionner en UI components comme nos tabs qui sont dÃ©jÃ  prÃ¨tes. L'avantage, c'est qu'ils prennent les standards de design de Google ou de Apple, avec le mÃªme code de base.

---

### Exercice 1
- Changez le titre du deuxiÃ¨me tab en allant dans le component `src/app/tab2` et remplacez-le  par "Photo Gallery"
- Il y a deux endroits dans le mÃªme fichier oÃ¹ il faut changer le titre !

Le titre est changÃ© Ã  deux endroits Ã  cause du support d'une feature iOS dans la gestion des titres larges.

---

Ajoutons des Ã©lÃ©ments dans notre page :

---

### Exercice 2
- Ajoutez un bouton "CamÃ©ra" dans cette page Tab2. Vous pouvez trouver [la documentation ici](https://ionicframework.com/docs/api/fab). Le bouton doit Ãªtre simple (comme le bouton rouge de la documentation, pas de menu quand on clique dessus) et se trouve en bas au milieu :

![](img/0103.png)

> Note: le code se place toujours dans `ion-content` :

![](img/0104.png)

---
